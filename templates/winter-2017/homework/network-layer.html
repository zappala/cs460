{% extends "winter-2017/menu.html" %}

{% block page %}

{% filter markdown %}

# Network Layer

1. Kurose & Ross, Chapter 4, Problem P4.

    Consider the switch shown below. Suppose that all datagrams have
    the same fixed length, that the switch operates in a slotted,
    synchronous manner, and that in one time slot a datagram can be
    transferred from an input port to an output port. The switch
    fabric is a crossbar so that at most one datagram can be
    transferred to a given output port in a time slot, but different
    output ports can receive datagrams from different input ports in a
    single time slot. What is the minimal number of time slots needd
    to transfer the packets shown from input ports to their output
    pots, assuming any input queue scheduling order you want (i.e., it
    need not have HOL blocking)? What is the largest number of slots
    needed, assuming the worst-case scheduling order you can devise,
    assuming that a non-empty input queue is never idle?

    ![router](/static/img/kurose/fig04_p8.png)

1. Kurose & Ross, Chapter 4, Problem P5.

    Consider a datagram network using 32-bit host addresses. Suppose a
    router has four links, numbered 0 through 3, and packets are to be
    forwarded to the link interfaces as follows:

    ![router](/static/img/kurose/fig04_p9.png)


    a. Provide a forwarding table that has five entries, uses longest
    prefix matching, and forwards packets to the correct link
    interfaces.

    b. Describe how your forwarding table determines the appropriate
    link interface for datagrams with destination addresses:

    11001000 10010001 01010001 01010101
    <br>11100001 01000000 11000011 00111100
    <br>11100001 10000000 00010001 01110111

1. Kurose & Ross, Chapter 4, Problem P8.

    Consider a router that interconnects three subnets: Subnet 1,
    Subnet 2, and Subnet 3. Suppose all of the interfaces in each of
    these three subnets are required to have the prefix
    223.1.17/24. Also suppose that Subnet 1 is required to support at
    least 62 interfaces, Subnet 2 is to support at least 95 interfaces, and
    Subnet 3 is to support at least 16 interfaces. Provide three network
    addresses (of the form a.b.c.d/x) that satisfy these constraints.

1. Kurose & Ross, Chapter 4, Problem P14.

    Consider sending a 2400-byte datagram into a link that has an MTU
    of 700 bytes. Suppose the original datagram is stamped with the
    identification number 422. How many fragments are generated? What
    are the values in the various fields in the IP datagram(s)
    generated related to fragmentation?

1. Kurose & Ross, Chapter 4, Problem P19.

    Consider the SDN OpenFlow network show below.

    <img style="height:300px;" src="/static/img/kurose/openflow.jpg"/>

    Suppose that the desired forwarding behavior for datagrams arriving at s2 is as follows:

    * any datagrams arriving on input port 1 from hosts h5 or h6 that are destinated to hosts h1 or h2 should be forwarded over output port 2;

    * any datagrams arriving on input port 2 from hosts h1 or h2 that are destined to hosts h5 or h6 should be forwarded over output port 1;

    * any arriving datagrams on input ports 1 or 2 and destned to hosts h3 or h4 should be deliverd to the host specified;

    * hosts h3 and h4 shoul dbe able to send datagrams to each other.

    Specify the flow table entries in s2 that implement this forwarding behavior.

1. Kurose & Ross, Chapter 4, Problem P22.

    Consider again the SDN OpenFlow network shown above. Suppose we want switch s2 to function as a firewall. Specify the flow table in s2
    that implements the following firewall behaviors (specify a different flow table for each of the four firewalling behaviors below) for delivery
    of datagrams destined to h3 and h4. You do not need to specify the forwarding behavior in s2 that forwards traffic to other routers.

    a. Only traffic arriving from hosts h1 and h6 should be delivered to hosts h3 or h4 (i.e., that arriving traffic from hosts h2 and h5 is blocked).
    
    b. Only TCP traffic is allowed to be delivered to hosts h3 or h4 (i.e., that UDP traffic is blocked).

    c. Only traffic destined to h3 is to be delivered (i.e. all traffic to h4 is blocked).

    d. Only UDP traffic from h1 and destined to h3 is to be delivered. All other traffic is blocked.


1. Kurose & Ross, Chapter 5, Problem P8.

    Consider the three-node topology shown below. Rather than having
    the link costs shown in the figure, the link costs are c(x,y) = 3,
    c(y,z) = 6, c(z,x) = 4. Compute the distance tables after the
    initialization step and after each iteration of a synchronous
    version of the distance-vector algorithm.

    <img style="height:200px;" src="/static/img/kurose/fig04_p31.png"/>

 1. Kurose & Ross, Chapter 5, Problem P14.

    Consider the network shown below. SUppose AS3 and AS2 are running OSPF for their intra-AS routing protocol.
    Suppose AS1 and AS4 are running RIP for their intra-AS routing protocol. Suppose eBGP and iBGP are used for the
    inter-AS routing protocol. Initially suppose there is *no* physical link
    between AS2 and AS4.

    ![network](/static/img/kurose/fig04_p35.png)

    a. Router 3c learns about prefix *x* from which routing protocol: OSPF, RIP, eBGP, or iBGP?

    b. Router 3a learns about *x* from which routing protocol?

    c. Router 1c learns about *x* from which routing protocol?

    d. Router 1d learns about *x* from which routing protocol?
    
1. Kurose & Ross, Chapter 5, Problem P15.

    Referring to the previous problem, once router 1d learns about $x$. It will put an entry $(x,I)$ in its forwarding table.

    a. Will $I$ be equal to $I_1$ or $I_2$ for this entry? Explain why in one sentence.

    b. Now suppose that there is a physical link between AS2 and AS4,
    shown by the dotted line. Suppose router $1d$ learns that $x$ is
    accessible via AS2 as well as via AS3. Will $I$ be set to $I_1$ or $I_2$?
    Explain why in one sentence.
    
    c. Now suppose there is another AS, called AS5, which lies on the
    path between AS2 and AS4 (not shown in diagram). Suppose router 1d
    learns that x is accessible via AS2 AS5 AS4 as well as via AS3
    AS4. Will $I$ be set to $I_1$ or $I_2$ ? Explain why in one sentence.

1. Kurose & Ross, Chapter 5, Problem P16.

    Consider the following network.

    ![network](/static/img/kurose/fig04_p37.png)

    ISP B provides national backbone service to regional ISP A. ISP C
    provides national backbone service to regional ISP D. Each ISP
    consists of one AS. B and C peer with each other in two places
    using BGP. Consider traffic going from A to D. B would prefer to
    hand that traffic over to C on the West Coast (so that C would
    have to absorb the cost of carrying the traffic cross-country),
    while C would prefer to get the traffic via its East Coast peering
    point with B (so that B would have carried the traffic across the
    country). What BGP mechanism might C use, so that B would hand
    over A-to-D traffic at its East Coast peering point? To answer
    this question, you will __not__ need to dig into the BGP
    specification.


{% endfilter %}

{% endblock %}
